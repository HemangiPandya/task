<div class="container-fluid">
  <h2>Registration Form</h2>
  <form [formGroup]="registrationForm">

    {{registrationForm.value | json}}

    <div class="form-group mb-3">
      <label>Firstname</label>
      <input [class.is-invalid]="firstName!.invalid && firstName!.touched" 
                                formControlName="firstName" type="text" class="form-control">
      <!--<small [class.d-none]="firstName!.valid ||
                            firstName!.untouched" class="text-danger">Firstname is required</small>-->
      <div *ngIf="firstName!.invalid && firstName!.touched">
        <small *ngIf="firstName!.errors?.required" class="text-danger">Firstname is required!</small>
        <small *ngIf="firstName!.errors?.minlength" class="text-danger">Firstname must be at least 3 characters</small>
        <small *ngIf="firstName!.errors?.forbiddenName" class="text-danger">{{firstName!.errors?.forbiddenName!.value}}</small>

      </div>                                                      
    </div>

    <div class="form-group mb-3">
      <label>Lastname</label>
      <input [class.is-invalid]="lastName!.invalid && lastName!.touched" 
                                formControlName="lastName" type="text" class="form-control">
      <!--<small [class.d-none]="lastName!.valid ||
                            lastName!.untouched" class="text-danger">Lastname is required</small>-->
      <div *ngIf="lastName!.invalid && lastName!.touched">
        <small *ngIf="lastName!.errors?.required" class="text-danger">Lastname is required!</small>
        <small *ngIf="lastName!.errors?.minlength" class="text-danger">Lastname must be at least 3 characters</small>
        <small *ngIf="lastName!.errors?.forbiddenName" class="text-danger">{{lastName!.errors?.forbiddenName!.value}}</small>

      </div>                                                      
    </div>

    <div class="form-group mb-3">
      <label>Email</label>
      <input [class.is-invalid]="email!.invalid && email!.touched" formControlName="email" type="email" class="form-control">
      <div *ngIf="email!.invalid && email!.touched">
      <small *ngIf="email!.errors?.required" class="text-danger">Email is required!</small>
        </div>
    </div>

    

    <div class="form-group mb-3">
      <label>Phonenumber</label>
      <input [class.is-invalid]="phoneNumber!.invalid && phoneNumber!.touched" 
                                formControlName="phoneNumber" type="text" class="form-control">
      <!--<small [class.d-none]="phoneNumber!.valid ||
                            phoneNumber!.untouched" class="text-danger">Phonenumber is required</small>-->
      <div *ngIf="phoneNumber!.invalid && phoneNumber!.touched">
        <small *ngIf="phoneNumber!.errors?.required" class="text-danger">Phonenumber is required!</small>
        <small *ngIf="phoneNumber!.errors?.minlength" class="text-danger">Phonenumber must be at least 5 characters</small>
        

      </div>                                                      
    </div>

  <!--- <div class="form-group mb-3">
      <label>Password</label>
      <input formControlName="password" type="password" class="form-control">
      
    </div>

    <div class="form-group mb-3">
      <label>Confirm Password</label>
      <input [class.is-invalid]="registrationForm.errors?.misMatch" formControlName="confirmPassword" type="password" class="form-control">
      <small class="text-danger" *ngIf="registrationForm.errors?.misMatch">Passwords do not match</small>
    </div>

    <div formGroupName="address">

    <div class="form-group mb-3">
      <label>City</label>
      <input formControlName="city" type="text" class="form-control">
    </div>

    <div class="form-group mb-3">
      <label>State</label>
      <input formControlName="state" type="text" class="form-control">
    </div>

    <div class="form-group mb-3">
      <label>Postal Code</label>
      <input formControlName="postalCode" type="text" class="form-control">
    </div>
    </div>
  -->

    <button class="btn btn-primary" (click)="onSubmit()" type="submit">Register</button>
    <button (click)="loadApiData()" class="btn btn-secondary ml-2" type="button">Load API Data</button>
    

  </form>
</div>